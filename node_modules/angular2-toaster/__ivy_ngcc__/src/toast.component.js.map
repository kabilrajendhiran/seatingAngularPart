{"version":3,"file":"toast.component.js","sources":["../../src/toast.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, Input, Output, ViewChild, ViewContainerRef, EventEmitter,\n    ComponentFactoryResolver, ChangeDetectorRef, OnInit, AfterViewInit\n} from '@angular/core';\nimport {DomSanitizer, SafeHtml} from '@angular/platform-browser';\nimport {Toast} from './toast';\nimport {BodyOutputType} from './bodyOutputType';\n\n@Component({\n    selector: '[toastComp]',\n    template: `\n        <i class=\"toaster-icon\" [ngClass]=\"iconClass\"></i>\n        <div class=\"toast-content\">\n            <div [ngClass]=\"titleClass\">{{toast.title}}</div>\n            <div [ngClass]=\"messageClass\" [ngSwitch]=\"toast.bodyOutputType\">\n                <div *ngSwitchCase=\"bodyOutputType.Component\" #componentBody></div>\n                <div *ngSwitchCase=\"bodyOutputType.TrustedHtml\" [innerHTML]=\"safeBodyHtml\"></div>\n                <div *ngSwitchCase=\"bodyOutputType.Default\">{{toast.body}}</div>\n            </div>\n        </div>\n        <div class=\"toast-close-button\" *ngIf=\"toast.showCloseButton\" (click)=\"click($event, toast)\"\n            [innerHTML]=\"safeCloseHtml\">\n        </div>`\n})\n\nexport class ToastComponent implements OnInit, AfterViewInit {\n\n    @Input() toast: Toast;\n    @Input() iconClass: string;\n    @Input() titleClass: string;\n    @Input() messageClass: string;\n    @ViewChild('componentBody', { read: ViewContainerRef, static: false }) componentBody: ViewContainerRef;\n\n    safeCloseHtml: SafeHtml;\n    safeBodyHtml: SafeHtml;\n\n    public bodyOutputType = BodyOutputType;\n\n    @Output()\n    public clickEvent = new EventEmitter();\n\n    constructor(\n      private sanitizer: DomSanitizer,\n      private componentFactoryResolver: ComponentFactoryResolver,\n      private changeDetectorRef: ChangeDetectorRef\n    ) {}\n\n    ngOnInit() {\n        if (this.toast.closeHtml) {\n            this.safeCloseHtml = this.sanitizer.bypassSecurityTrustHtml(this.toast.closeHtml);\n        }\n        if (this.toast.bodyOutputType === BodyOutputType.TrustedHtml) {\n            this.safeBodyHtml = this.sanitizer.bypassSecurityTrustHtml(this.toast.body);\n        }\n    }\n\n    ngAfterViewInit() {\n        if (this.toast.bodyOutputType === this.bodyOutputType.Component) {\n            const component = this.componentFactoryResolver.resolveComponentFactory(this.toast.body);\n            const componentInstance: any = this.componentBody.createComponent(component, undefined, this.componentBody.injector);\n            componentInstance.instance.toast = this.toast;\n            this.changeDetectorRef.detectChanges();\n        }\n    }\n\n    click(event: MouseEvent, toast: Toast) {\n        event.stopPropagation();\n        this.clickEvent.emit({\n            value : { toast: toast, isCloseButton: true}\n        });\n    }\n}\n"]}